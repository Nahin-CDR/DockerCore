worker_processes 1;  
# Nginx server কয়টা CPU core use করবে — ekhane 1 means ekta worker process (low traffic app e enough)

events {

# ----------------------------------------
# Events Block: Low-level connection setup
# Ei block mainly Nginx er internal network handling setup kore
# ekhane bole dewa hoy ekta worker process ekbar-e koyta client connection handle korbe
# 
# Example:
# ➤ Jodi 1k user ekshathe site-e hit kore, tahole worker_connections 1024 dile sob serve korte parbe
# ➤ Jodi value kom hoy (e.g. 100), tahole beshi request queue te pore thakbe → site slow hobe
# 
# Ei block performance tuning er jonno important — http, stream block er base setup dhore ney
# ----------------------------------------



    worker_connections 1024;  
    # Ekta worker process highest koyta client connection handle korte parbe — ekhane 1024 ta
}

http {

# ----------------------------------------
# HTTP Block: Web server-related settings
# Ei block er moddhe web er jonno shob configuration thake
# e.g. routing, server blocks, proxy_pass, gzip, keepalive, mime types etc.
# Nginx jodi HTTP request handle kore (like from browser/API), tahole ei block must lagbe
# Without this, server block or reverse proxy kaj korbe na
# ----------------------------------------





    resolver 127.0.0.11 valid=10s;  
    # DNS resolver for Docker containers (Docker DNS service)  
    # 127.0.0.11 is Docker’s internal DNS server — container name diye IP resolve korar jonno

    include /etc/nginx/mime.types;  
    # kon file extension er jonno kon MIME type use korbe — HTML, CSS, JS, JPG etc.  
    # E.g. `.js` = `application/javascript`

    default_type application/octet-stream;  
    # Jodi kono MIME type na thake, tahole default file type hobe `application/octet-stream` (generic binary)

    sendfile on;  
    # sendfile system call use kore file serve korbe — eta static file serve korar performance boost kore

    keepalive_timeout 65;  
    # Client er browser r Nginx er moddher je TCP connection ta hoy,
    # eta response er poreo 65 second open thakbe (close korbe na instantly).
    # Jodi same client ei somoy er moddhe abar request kore (e.g. /auth por /user),
    # tahole oi open TCP connection-ta abar reuse hobe – notun connection lagbe na.
    # Eita ke bole keep-alive – eta performance baray & server load komay.
    # Useful for SPA frontend, API calls, asset loading etc.
    

    include /etc/nginx/conf.d/*.conf;  
    # Nginx er shob `.conf` file `/etc/nginx/conf.d/` folder theke include kore  
    # ei line diye amra `default.conf` or other route-based conf file load kori
}

# worker_processes → কয়টা core use korbe
# worker_connections → ekta core e max koyta connection handle hobe
# resolver → container name diye DNS resolve korte pare
# mime.types + default_type → file er content-type define kore
# sendfile → static file serve korar performance increase
# keepalive_timeout → connection rakhbe kotokkhon
# *include .conf → route gula kon service e jabe ta define kore alada file diye
#
#
#
#
#